var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var humanContainer = new render.DisplayObjectContainer();
humanContainer.x = 100;
humanContainer.y = 200;
var head = new render.Bitmap();
head.source = "head.png";
head.x = -20;
head.y = -55;
head.width = 44;
head.hight = 44;
humanContainer.addChild(head);
var trunk = new render.Bitmap();
trunk.source = "trunk.png";
trunk.x = -5;
trunk.y = -20;
trunk.width = 13;
trunk.hight = 68;
humanContainer.addChild(trunk);
var R_arm = new render.Bitmap();
R_arm.source = "R_arm.png";
R_arm.x = -30;
R_arm.y = -20;
R_arm.width = 34;
R_arm.hight = 42;
humanContainer.addChild(R_arm);
var L_arm = new render.Bitmap();
L_arm.source = "L_arm.png";
L_arm.x = 0;
L_arm.y = -20;
L_arm.width = 38;
L_arm.hight = 39;
humanContainer.addChild(L_arm);
var R_leg = new render.Bitmap();
R_leg.source = "R_leg.png";
R_leg.x = -35;
R_leg.y = 35;
R_leg.width = 41;
R_leg.hight = 35;
humanContainer.addChild(R_leg);
var L_leg = new render.Bitmap();
L_leg.source = "L_leg.png";
L_leg.x = 0;
L_leg.y = 35;
L_leg.width = 38;
L_leg.hight = 44;
humanContainer.addChild(L_leg);
var renderCore = new render.RenderCore();
renderCore.start(humanContainer, ["head.png", "trunk.png", "R_arm.png", "L_arm.png", "R_leg.png", "L_leg.png"]);
var HumanBody = (function (_super) {
    __extends(HumanBody, _super);
    function HumanBody() {
        _super.apply(this, arguments);
        this.vx = 5;
    }
    HumanBody.prototype.onTicker = function (duringTime) {
        this.x += this.vx * duringTime; //+= duringTime * this.vx;
        this.rotation += 2 * Math.PI * duringTime;
    };
    return HumanBody;
}(Body));
var ticker = new Ticker();
var body = new HumanBody(humanContainer);
ticker.start([body]);
var eventCore = new events.EventCore();
eventCore.init();
var stop = false;
var headHitTest = function (localPoint, displayObject) {
    if (localPoint.x > 0 && localPoint.x < head.width && localPoint.y > 0 && localPoint.y < head.hight) {
        return true;
    }
    else {
        return false;
    }
};
var headOnClick = function () {
    if (!stop) {
        body.vx = -5;
    }
    else {
        body.vx = 5;
        stop = false;
    }
};
var RLegHitTest = function (localPoint, displayObject) {
    if (localPoint.x > 0 && localPoint.x < R_leg.width && localPoint.y > 0 && localPoint.y < R_leg.hight) {
        return true;
    }
    else {
        return false;
    }
    //alert (`点击位置为${localPoint.x},${localPoint.y}`);
};
var RLegOnClick = function () {
    //    alert("clicked!!");
    if (RLegHitTest) {
        stop = true;
        body.vx = 0;
    }
};
var LLegHitTest = function (localPoint, displayObject) {
    if (localPoint.x > 0 && localPoint.x < L_leg.width && localPoint.y > 0 && localPoint.y < L_leg.hight) {
        return true;
    }
    else {
        return false;
    }
    //alert (`点击位置为${localPoint.x},${localPoint.y}`);
};
var LLegOnClick = function () {
    //    alert("clicked!!");
    if (LLegHitTest) {
        stop = true;
        body.vx = 0;
        body.rotation = 0;
    }
};
eventCore.register(head, headHitTest, headOnClick);
eventCore.register(R_leg, RLegHitTest, RLegOnClick);
eventCore.register(L_leg, LLegHitTest, LLegOnClick);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImdhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFJLGNBQWMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0FBQ3pELGNBQWMsQ0FBQyxDQUFDLEdBQUMsR0FBRyxDQUFDO0FBQ3JCLGNBQWMsQ0FBQyxDQUFDLEdBQUMsR0FBRyxDQUFDO0FBRXJCLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQy9CLElBQUksQ0FBQyxNQUFNLEdBQUcsVUFBVSxDQUFDO0FBQ3pCLElBQUksQ0FBQyxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUM7QUFDWCxJQUFJLENBQUMsQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDO0FBQ1gsSUFBSSxDQUFDLEtBQUssR0FBQyxFQUFFLENBQUM7QUFDZCxJQUFJLENBQUMsS0FBSyxHQUFDLEVBQUUsQ0FBQztBQUNkLGNBQWMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUE7QUFFN0IsSUFBSSxLQUFLLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDaEMsS0FBSyxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUM7QUFDM0IsS0FBSyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQztBQUNYLEtBQUssQ0FBQyxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUM7QUFDWixLQUFLLENBQUMsS0FBSyxHQUFDLEVBQUUsQ0FBQztBQUNmLEtBQUssQ0FBQyxLQUFLLEdBQUMsRUFBRSxDQUFDO0FBQ2YsY0FBYyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUU5QixJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNoQyxLQUFLLENBQUMsTUFBTSxHQUFHLFdBQVcsQ0FBQztBQUMzQixLQUFLLENBQUMsQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDO0FBQ1osS0FBSyxDQUFDLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQztBQUNaLEtBQUssQ0FBQyxLQUFLLEdBQUMsRUFBRSxDQUFDO0FBQ2YsS0FBSyxDQUFDLEtBQUssR0FBQyxFQUFFLENBQUM7QUFDZixjQUFjLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBRTlCLElBQUksS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ2hDLEtBQUssQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDO0FBQzNCLEtBQUssQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO0FBQ1YsS0FBSyxDQUFDLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQztBQUNaLEtBQUssQ0FBQyxLQUFLLEdBQUMsRUFBRSxDQUFDO0FBQ2YsS0FBSyxDQUFDLEtBQUssR0FBQyxFQUFFLENBQUM7QUFDZixjQUFjLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBRTlCLElBQUksS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ2hDLEtBQUssQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDO0FBQzNCLEtBQUssQ0FBQyxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUM7QUFDWixLQUFLLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQztBQUNYLEtBQUssQ0FBQyxLQUFLLEdBQUMsRUFBRSxDQUFDO0FBQ2YsS0FBSyxDQUFDLEtBQUssR0FBQyxFQUFFLENBQUM7QUFDZixjQUFjLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBRTlCLElBQUksS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ2hDLEtBQUssQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDO0FBQzNCLEtBQUssQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO0FBQ1YsS0FBSyxDQUFDLENBQUMsR0FBQyxFQUFFLENBQUM7QUFDWCxLQUFLLENBQUMsS0FBSyxHQUFDLEVBQUUsQ0FBQztBQUNmLEtB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